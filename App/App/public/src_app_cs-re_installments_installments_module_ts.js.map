{"version":3,"sources":["./src/app/cs-re/installments/installments-routing.module.ts","./src/app/cs-re/installments/installments.module.ts","./src/app/cs-re/installments/installments.page.ts","./src/app/cs-re/installments/installments.page.scss","./src/app/cs-re/installments/installments.page.html"],"names":[],"mappings":"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","file":"src_app_cs-re_installments_installments_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InstallmentsPage } from './installments.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InstallmentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InstallmentsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InstallmentsPageRoutingModule } from './installments-routing.module';\n\nimport { InstallmentsPage } from './installments.page';\n\nimport { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InstallmentsPageRoutingModule,\n    TranslateModule.forChild()\n  ],\n  declarations: [InstallmentsPage]\n})\nexport class InstallmentsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { GeneralService } from '../../serv/general.service';\n\n@Component({\n  selector: 'app-installments',\n  templateUrl: './installments.page.html',\n  styleUrls: ['./installments.page.scss'],\n})\nexport class InstallmentsPage implements OnInit {\n  skeleton = true;\n  total;\n  total_paid;\n  total_paid_pr;\n\n  nextInstallment;\n  financial;\n\n\n  constructor(\n    public GeneralService:GeneralService,\n  ) { }\n\n  ngOnInit() {\n    this.GeneralService.whenUserInfoSet(this, 'loadPageData');\n  }\n\n  async loadPageData() {\n\n    //GET Total points\n\t\tthis.GeneralService.api.generalGet('financial_get', {}, \"GET\").then(data => {\n     this.skeleton = false;\n     if(data[\"data\"] && data[\"data\"].financial){\n      \n      this.total =  data[\"data\"].total;\n      this.total_paid = data[\"data\"].total_paid;\n      this.total_paid_pr =  data[\"data\"].total_paid_pr;\n\n      this.financial = [];\n      data[\"data\"].financial.forEach(element => {\n        let t = new Date();\n        let date = ('0' + t.getDate()).slice(-2);\n        let month = ('0' + (t.getMonth() + 1)).slice(-2);\n        let year = t.getFullYear();\n\n        let dateComp = element.date - parseInt(year+month+date);\n       \n        if(parseInt(element.payment_made) == 1) {\n          element.status = 'done'; \n          element.satusIcon = 'checkmark-circle'; \n          return;\n        }\n        else if(dateComp < 0){\n          element.status = 'delay'; \n          element.satusIcon = 'calendar-outline'; \n        }\n\n        else if(dateComp < 10){\n          element.status = 'warning'; \n          element.satusIcon = 'calendar-outline'; \n        }\n\n        else{\n          element.status = 'wait'; \n          element.satusIcon = 'checkmark-circle'; \n        }\n\n        let dateX = this.GeneralService.dateFromYMD(element.date, '-');\n        element.date = dateX;\n        \n\n        if(parseInt(element.payment_made) != 1 && ! this.nextInstallment) {\n          this.nextInstallment = dateX;\n        }\n\n\n        this.financial.push(element);\n      });\n     }\n    });\n    \n\t\t  \n  }\n\n  doRefresh(event) {\n    this.loadPageData();\n\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n\n\n\n}\n","export default \"ion-skeleton-text {\\n  margin-bottom: 10px;\\n}\\n\\nion-grid {\\n  padding: 0;\\n}\\n\\nion-grid ion-col {\\n  padding: 13px 2px;\\n  align-items: center;\\n}\\n\\nion-grid .date {\\n  justify-content: flex-end;\\n}\\n\\nion-grid .price {\\n  font-size: 0.8em;\\n  opacity: 0.7;\\n}\\n\\nion-grid .done {\\n  display: none;\\n}\\n\\nion-grid .delay {\\n  background: #790005;\\n  color: #fff;\\n  border: none;\\n}\\n\\nion-grid .warning {\\n  background: #e7b344;\\n  color: #fff;\\n  border: none;\\n}\\n\\nion-grid ion-button {\\n  margin: 0;\\n  margin-inline-start: 6px;\\n  display: none;\\n}\\n\\nion-grid ion-row:nth-child(1) ion-button {\\n  display: block;\\n}\\n\\nion-icon {\\n  margin-right: 7px;\\n  font-size: 1.5em;\\n  color: #e3e3e3;\\n}\\n\\n.general-info .c100 {\\n  padding: 7px 0;\\n  align-items: center;\\n  display: flex;\\n  margin-bottom: 6px;\\n}\\n\\n[dir=rtl] :host ion-icon {\\n  margin-right: 0;\\n  margin-left: 7px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluc3RhbGxtZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtBQUNKOztBQUNBO0VBQ0ksVUFBQTtBQUVKOztBQUFJO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtBQUVSOztBQUFJO0VBQ0kseUJBQUE7QUFFUjs7QUFBSTtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtBQUVSOztBQUVJO0VBQ0ksYUFBQTtBQUFSOztBQUdJO0VBQ0ksbUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQURSOztBQUdJO0VBQ0ksbUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQURSOztBQUtJO0VBQ0ksU0FBQTtFQUNBLHdCQUFBO0VBQ0EsYUFBQTtBQUhSOztBQU9JO0VBQ0ksY0FBQTtBQUxSOztBQVNBO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFOSjs7QUFXSTtFQUNJLGNBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtBQVJSOztBQWFJO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FBVlIiLCJmaWxlIjoiaW5zdGFsbG1lbnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1za2VsZXRvbi10ZXh0IHtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OyAgICBcbn1cbmlvbi1ncmlke1xuICAgIHBhZGRpbmc6IDA7XG4gICAgXG4gICAgaW9uLWNvbCB7XG4gICAgICAgIHBhZGRpbmc6IDEzcHggMnB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbiAgICAuZGF0ZSB7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgfVxuICAgIC5wcmljZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICB9XG4gICAgXG4gICAgXG4gICAgLmRvbmUge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIC5kZWxheSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICM3OTAwMDU7XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgfVxuICAgIC53YXJuaW5nIHtcbiAgICAgICAgYmFja2dyb3VuZDogI2U3YjM0NDtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICB9XG5cblxuICAgIGlvbi1idXR0b24ge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDZweDtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICBcbiAgICBpb24tcm93Om50aC1jaGlsZCgxKSBpb24tYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxufVxuXG5pb24taWNvbiB7XG4gICAgbWFyZ2luLXJpZ2h0OjdweDtcbiAgICBmb250LXNpemU6IDEuNWVtO1xuICAgIGNvbG9yOiAjZTNlM2UzO1xufVxuXG5cbi5nZW5lcmFsLWluZm8ge1xuICAgIC5jMTAwIHtcbiAgICAgICAgcGFkZGluZzogN3B4IDA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICB9XG59XG5cbltkaXI9XCJydGxcIl0gOmhvc3Qge1xuICAgIGlvbi1pY29uIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgICBtYXJnaW4tbGVmdDogN3B4O1xuICAgIH1cbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"cs-re/financial-gate\\\" routerDirection=\\\"backward\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{ 'P_TITLES.financial' | translate }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n<!-- Skeleton screen -->\\n  <div *ngIf=\\\"skeleton\\\">\\n    <div class=\\\"custom-skeleton\\\">\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;opacity: 0.65;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;opacity: 0.65;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;opacity: 0.65;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;opacity: 0.65;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;opacity: 0.65;\\\"></ion-skeleton-text>\\n      <ion-skeleton-text animated style=\\\"height: 35px;margin: 1px;\\\"></ion-skeleton-text>\\n    </div>\\n  </div>\\n\\t  \\n  <ion-grid *ngIf=\\\"financial\\\" class=\\\"account-table\\\">\\n    <ion-row *ngFor=\\\"let ppp of financial\\\" class=\\\"row-w-gr {{ppp.status}}\\\">\\n      <ion-col class=\\\"d-flex\\\" size=\\\"7\\\">\\n        <div class=\\\"icon-co\\\">\\n          <ion-icon name=\\\"{{ppp.satusIcon}}\\\"></ion-icon>\\n        </div>\\n        <div>\\n          <span class=\\\"t d-block\\\">{{ppp.title}}</span>\\n          <span class=\\\"price\\\">{{ppp.value}} {{ 'GENERAL.EGP' | translate }}</span>\\n        </div>\\n      </ion-col>\\n      <ion-col class=\\\"d-flex date\\\" size=\\\"5\\\">\\n        <div>\\n          {{ppp.date}}\\n        </div>\\n        <ion-button routerLink=\\\"/cs-re/financial-gate/pay\\\" class=\\\"more end\\\" size=\\\"small\\\">{{ 'FINANCIAL.pay' | translate }}</ion-button>\\n      </ion-col>\\n    \\n    </ion-row>\\n  </ion-grid>\\n\\n\\n  <!--<div class=\\\"general-info ion-margin-bottom ion-padding-vertical\\\">\\n\\t\\t<div class=\\\"c100 total\\\" *ngIf=\\\"total\\\">\\n      <ion-icon name=\\\"cash\\\"></ion-icon>\\n      {{ 'FINANCIAL.total' | translate }} :\\n\\t\\t\\t<span>{{total}} {{ 'GENERAL.EGP' | translate }}</span>\\n\\t\\t</div>\\n\\n\\t\\t<div class=\\\"c100 total_paid \\\" *ngIf=\\\"total_paid\\\">\\n\\t\\t\\t\\t<ion-icon name=\\\"cash\\\"></ion-icon>\\n      {{ 'FINANCIAL.total_paid' | translate }} :\\n\\t\\t\\t<span>{{total_paid}} {{ 'GENERAL.EGP' | translate }} ( {{total_paid_pr}}% )</span>\\n\\t\\t</div>\\n\\n    <div class=\\\"c100 next-p\\\" *ngIf=\\\"nextInstallment\\\">\\n      <ion-icon name=\\\"calendar\\\"></ion-icon> \\n      {{ 'FINANCIAL.next_installment' | translate }}: {{nextInstallment}}\\n    </div>\\n\\t\\t\\n  </div>-->\\n\\n  <div class=\\\"actions\\\">\\n\\n  </div>\\n  \\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}